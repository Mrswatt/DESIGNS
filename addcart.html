<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Shop</title>
  <link rel="icon" href="/images/pic-cleaning.jpg"> 
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4 p-4">
      <h1 class="text-2xl font-bold text-blue-600">üõí  Cleaning Products</h1>
      
      <!-- Search -->
      <div class="relative w-full sm:w-1/2">
        <input id="search" type="text" placeholder="Search products‚Ä¶"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 outline-none"/>
        <span class="absolute right-3 top-2.5 text-gray-500">üîç</span>
      </div>

      <!-- Cart Button -->
      <button id="cart-btn" class="relative bg-blue-500 text-white px-5 py-2 rounded-lg hover:bg-blue-600">
        Cart
        <span id="cart-count"
          class="absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full">
          0
        </span>
      </button>
    </div>
  </header>

  <!-- Quick Order -->
  <div id="search-result"
    class="hidden max-w-3xl mx-auto mt-3 bg-white shadow p-4 rounded-lg">
    <h2 class="text-lg font-semibold mb-2">Quick Order</h2>
    <p id="search-product" class="text-gray-700"></p>
    <div class="flex gap-2 mt-3">
      <input id="quick-qty" type="number" value="1" min="1"
        class="w-20 border rounded px-2 py-1 text-center"/>
      <button id="order-now"
        class="flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600">
        Order via WhatsApp
      </button>
    </div>
  </div>

  <!-- Products -->
  <main id="product-grid"
    class="p-4 sm:p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-w-7xl mx-auto">
  </main>

  <!-- Request Product -->
  <section class="p-6 text-center">
    <h2 class="text-lg font-semibold mb-3">Can‚Äôt find what you‚Äôre looking for?</h2>
    <button id="request-product"
      class="bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600">
      Request a Product
    </button>
    <div id="request-form"
      class="hidden mt-4 max-w-md mx-auto bg-white p-4 rounded-lg shadow-md">
      <input id="request-input" type="text" placeholder="Enter product name‚Ä¶"
        class="w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-purple-400 outline-none mb-3"/>
      <button id="send-request"
        class="w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600">
        Send Request via WhatsApp
      </button>
    </div>
  </section>

  <!-- Cart Sidebar -->
  <aside id="cart"
    class="fixed right-0 top-0 w-80 h-full bg-white shadow-lg p-6 transform translate-x-full transition-transform duration-300 z-50 flex flex-col">
    <div class="flex items-center justify-between border-b pb-2">
      <h2 class="text-xl font-bold">Your Cart</h2>
      <button id="close-cart" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
    </div>
    <ul id="cart-items" class="flex-1 overflow-y-auto mt-4 space-y-2"></ul>
    <div class="mt-4 border-t pt-4">
      <div class="flex items-center justify-between font-semibold">
        <span>Total:</span>
        <span>‚Ç¶<span id="cart-total">0</span></span>
      </div>
      <button id="checkout"
        class="mt-4 w-full bg-green-500 text-white px-4 py-3 rounded-lg hover:bg-green-600">
        Checkout
      </button>
    </div>
  </aside>

    <!-- Floating WhatsApp Button -->
<a href="https://wa.me/2348163645085?text=Hello%20I%20need%20some%20assistance%20with%20my%20order" 
   target="_blank" 
   class="fixed bottom-4 right-4 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition transform hover:scale-110 z-50">
  <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-7 h-7">
    <path d="M20.52 3.48A11.86 11.86 0 0012 0C5.37 0 0 5.37 0 12a11.89 11.89 0 001.64 6.03L0 24l6.22-1.63A11.89 11.89 0 0012 24c6.63 0 12-5.37 12-12 0-3.18-1.23-6.17-3.48-8.52zM12 22a9.94 9.94 0 01-5.07-1.4l-.36-.21-3.7.97.99-3.61-.24-.37A9.94 9.94 0 012 12c0-5.52 4.48-10 10-10s10 4.48 10 10-4.48 10-10 10zm5.31-7.14c-.29-.15-1.7-.84-1.97-.93-.27-.1-.46-.15-.65.15-.19.29-.75.93-.92 1.12-.17.19-.34.21-.63.06-.29-.15-1.24-.46-2.36-1.47-.87-.77-1.45-1.72-1.62-2.01-.17-.29-.02-.45.13-.6.13-.13.29-.34.44-.5.15-.17.19-.29.29-.48.1-.19.05-.36-.02-.51-.08-.15-.65-1.55-.89-2.13-.23-.56-.47-.49-.65-.5-.17-.01-.36-.01-.55-.01s-.51.07-.78.36c-.27.29-1.03 1.01-1.03 2.48s1.06 2.87 1.21 3.07c.15.19 2.09 3.19 5.07 4.47.71.31 1.27.49 1.7.62.71.23 1.35.2 1.86.12.57-.08 1.7-.69 1.94-1.36.24-.67.24-1.24.17-1.36-.07-.12-.27-.19-.55-.34z"/>
  </svg>
</a>
  <script>
    const WHATSAPP_PHONE = "2348163645085";

    const rawProducts = [
      { name: "CIF", price: 5000, image: "./images/WhatsApp Image 2025-08-30 at 1.46.51 PM(1).jpeg" },
      { name: "Bathroom mat", price: 6000, image: "./images/WhatsApp Image 2025-08-30 at 1.46.51 PM(2).jpeg" },
      { name: "Rubber Toilet brush", price: 2500, image: "./images/WhatsApp Image 2025-08-30 at 1.46.52 PM(1).jpeg" },
      { name: "Microfiber Towel", price: 2000, image: "./images/WhatsApp Image 2025-08-30 at 1.46.52 PM.jpeg" },
      { name: "Windex", price: 7000, image: "./images/WhatsApp Image 2025-08-30 at 1.46.53 PM.jpeg" },
      { name: "Parker", price: 2000, image: "./images/WhatsApp Image 2025-08-30 at 1.46.55 PM.jpeg" },
      { name: "Scrubbing brush", price: 3000, image: "./images/WhatsApp Image 2025-08-30 at 1.46.56 PM.jpeg" },
      { name: "Shaving stick one pack", price: 1500, image: "./images/WhatsApp Image 2025-08-30 at 8.19.43 PM.jpeg" },
      { name: "Colgate toothpaste", price: 2000, image: "./images/WhatsApp Image 2025-08-30 at 8.19.49 PM.jpeg" },
      { name: "Tissue Paper", price: 700, image: "./images/WhatsApp Image 2025-08-30 at 8.19.44 PM.jpeg" },
      { name: "Harpic", price: 7000, image: "./images/WhatsApp Image 2025-08-30 at 1.46.57 PM.jpeg" },
      { name: "Hypo", price: 3500, image: "./images/WhatsApp Image 2025-08-30 at 1.46.56 PM(1).jpeg" },
      { name: "Iron sponge", price: 500, image: "./images/WhatsApp Image 2025-08-30 at 1.46.54 PM.jpeg" },
      { name: "Bathing sponge", price: 1500, image: "./images/WhatsApp Image 2025-08-30 at 8.19.49 PM(1).jpeg" },
      { name: "Good Mama Detergent", price: 2000, image: "./images/WhatsApp Image 2025-08-30 at 8.24.28 PM.jpeg" },
      { name: "Strong Mop", price: 5000, image: "./images/WhatsApp Image 2025-08-30 at 8.19.51 PM.jpeg" },
      { name: "Floss", price: 1500, image: "./images/WhatsApp Image 2025-08-30 at 8.19.50 PM.jpeg" },
      { name: "Broom", price: 1000, image: "./images/WhatsApp Image 2025-08-30 at 8.19.39 PM.jpeg" },
      { name: "Peg Set", price: 2500, image: "./images/WhatsApp Image 2025-08-30 at 8.19.41 PM.jpeg" },
      { name: "Toilet Brush", price: 5000, image: "./images/WhatsApp Image 2025-08-30 at 8.19.45 PM.jpeg" },
      { name: "Long Brush", price: 3000, image: "./images/WhatsApp Image 2025-08-30 at 8.19.40 PM.jpeg" },
      { name: "Baby&Me", price: 700, image: "./images/WhatsApp Image 2025-08-30 at 8.19.37 PM.jpeg" },
      { name: "Viva plus", price: 2500, image: "./images/WhatsApp Image 2025-08-30 at 8.19.52 PM(1).jpeg" },
      { name: "MYMY Toothbrush", price: 1800, image: "./images/WhatsApp Image 2025-08-30 at 8.22.14 PM.jpeg" },
      { name: "Air wick", price: 4000, image: "./images/air wick.jpeg" },
      { name: "Astonish surface cleanser", price: 6300, image: "./images/astonish surface.jpeg" },
      { name: "Baby toothbrush", price: 900, image: "./images/baby toothbrusyh.jpeg" },
      { name: "Basket", price: 4500, image: "./images/basket.jpeg" },
      { name: "Black soap", price: 5000, image: "./images/black soap.jpeg" },
      { name: "Blossom polish", price: 3000, image: "./images/blossom.jpeg" },
      { name: "Blower", price: 30000, image: "./images/blower.jpeg" },
      { name: "BNC insecticide", price: 3500, image: "./images/bnc insectide.jpeg" },
      { name: "CIF Floor cleaner", price: 5000, image: "./images/cif floor cleaner.jpeg" },
      { name: "Clorox disinfecting wipes", price: 3500, image: "./images/clorox wipes.jpeg" },
      { name: "Close up toothpaste", price: 1800, image: "./images/close up toothpaste.jpeg" },
      { name: "Hanger", price: 5000, image: "./images/cloth.jpeg" },
      { name: "Cutton bud", price: 1200, image: "./images/cutton bud.jpeg" },
      { name: "Febreze air mist", price: 6500, image: "./images/febreze air mist.jpeg" },
      { name: "Floor wash machine", price: 650000, image: "./images/floor wash machine.jpeg" },
      { name: "Glade", price: 4500, image: "./images/glade.jpeg" },
      { name: "Hypo toilet cleaner", price: 4500, image: "./images/hypo toilet cleaner.jpeg" },
      { name: "Kids milk teeth", price: 2500, image: "./images/kids milk teeth.jpeg" },
      { name: "Kitchen towel", price: 1500, image: "./images/kitchen towel.jpeg" },
      { name: "listerine", price: 8500, image: "./images/listerine.jpeg" },
      { name: "long brush and paker", price: 5000, image: "./images/long brush and paker.jpeg" },
      { name: "long brush", price: 3500, image: "./images/long brush.jpeg" },
      { name: "long scrubbing brush", price: 4000, image: "./images/long scrubbing brush.jpeg" },
      { name: "mental sponge", price: 1500, image: "./images/mental sponge.jpeg" },
      { name: "mop bucket", price: 5000, image: "./images/mop bucket.jpeg" },
      { name: "morning fresh big", price: 3500, image: "./images/morning fresh big.jpeg" },
      { name: "morning fresh", price: 1500, image: "./images/morning fresh.jpeg" },
      { name: "mortein insecticide", price: 4500, image: "./images/mortein insecticide.jpeg" },
      { name: "Mr sheen", price: 2500, image: "./images/mr sheen.jpeg" },
      { name: "Nittol Detergent ", price: 2000, image: "./images/nittol detergent.jpeg" },
      { name: "Novex multi purpose", price: 4500, image: "./images/novex multi purpose.jpeg" },
      { name: "Oral B", price: 1900, image: "./images/oral b.jpeg" },
      { name: "Xoc Charcoal Mouth Wash", price: 8000, image: "./images/polish.jpeg" },
      { name: "pressure washer", price: 80000, image: "./images/pressure washer (2).jpeg" },
      { name: "Pressure washer", price: 450000, image: "./images/pressure washer.jpeg" },
      { name: "purity antiseptic", price: 2500, image: "./images/purity antiseptic.jpeg" },
      { name: "Savlon antiseptic", price: 6500, image: "./images/savlon antiseptic.jpeg" },
      { name: "Shaving bic", price: 1500, image: "./images/shaving bic.jpeg" },
      { name: "Scouring pad", price: 1800, image: "./images/scouring pad.jpeg" },
      { name: "Sponge", price: 2000, image: "./images/sponge.jpeg" },
      { name: "Toothbrush", price: 700, image: "./images/toothbrush.jpeg" },
      { name: "top bereeze", price: 6000, image: "./images/top bereeze.jpeg" },
      { name: "Trash bag", price: 2500, image: "./images/trash bag.jpeg" },
      { name: "Trash basket", price: 110000, image: "./images/trash basket.jpeg" },
      { name: "Upholstery machine", price: 450000, image: "./images/upholstery machine.jpeg" },
      { name: "Vim", price: 2200, image: "./images/vim.jpeg" },
      { name: "Vacuum cleaner", price: 200000, image: "./images/vacum cleaner.jpeg" },
      { name: "Viva bar soup", price: 950, image: "./images/viva bar soup.jpeg" },
      { name: "Waw detergent", price: 1800, image: "./images/waw detergent.jpeg" },
      
      // Add the rest of your images/items freely‚Ä¶
    ];

    const makeId = (p) => btoa(p.name).slice(0, 8);
    const products = rawProducts.map(p => ({ ...p, id: makeId(p) }));
    const productById = new Map(products.map(p => [p.id, p]));
    
    const productGrid = document.getElementById("product-grid");
    const cartEl = document.getElementById("cart");
    const cartBtn = document.getElementById("cart-btn");
    const closeCartBtn = document.getElementById("close-cart");
    const cartItemsList = document.getElementById("cart-items");
    const cartCount = document.getElementById("cart-count");
    const cartTotal = document.getElementById("cart-total");

    const searchInput = document.getElementById("search");
    const searchResult = document.getElementById("search-result");
    const searchProduct = document.getElementById("search-product");
    const quickQty = document.getElementById("quick-qty");
    const orderNowBtn = document.getElementById("order-now");

    const requestProductBtn = document.getElementById("request-product");
    const requestForm = document.getElementById("request-form");
    const requestInput = document.getElementById("request-input");
    const sendRequestBtn = document.getElementById("send-request");

    let cartItems = JSON.parse(localStorage.getItem("cart") || "[]");
    let quickOrder = null;

    const fmt = (n) => new Intl.NumberFormat("en-NG").format(n);
    const saveCart = () => localStorage.setItem("cart", JSON.stringify(cartItems));

    function renderProducts(list = products) {
      productGrid.innerHTML = "";
      list.forEach(p => {
        productGrid.innerHTML += `
          <div class="bg-white p-3 rounded-lg shadow hover:shadow-lg flex flex-col items-center">
            <img src="${p.image}" alt="${p.name}" class="rounded-md mb-2 w-28 h-28 object-cover">
            <h2 class="text-sm sm:text-lg font-semibold text-center">${p.name}</h2>
            <p class="text-gray-600">‚Ç¶${fmt(p.price)}</p>
            <button data-id="${p.id}" class="mt-2 bg-blue-500 text-white px-3 py-2 rounded-lg w-full hover:bg-blue-600">
              Add to Cart
            </button>
          </div>`;
      });
    }

    function renderCart() {
      cartItemsList.innerHTML = "";
      let total = 0;
      cartItems.forEach(item => {
        total += item.price * item.quantity;
        cartItemsList.innerHTML += `
          <li class="flex justify-between items-center border-b pb-2">
            <div>
              <p class="font-medium">${item.name}</p>
              <p class="text-sm text-gray-500">‚Ç¶${fmt(item.price)} each</p>
            </div>
            <div class="flex items-center gap-2">
              <button data-action="dec" data-id="${item.id}" class="px-2 border rounded">‚àí</button>
              <span>${item.quantity}</span>
              <button data-action="inc" data-id="${item.id}" class="px-2 border rounded">+</button>
            </div>
            <div class="w-20 text-right">‚Ç¶${fmt(item.price * item.quantity)}</div>
            <button data-action="remove" data-id="${item.id}" class="ml-2 text-red-500">‚úï</button>
          </li>`;
      });
      cartCount.textContent = cartItems.reduce((s, i) => s + i.quantity, 0);
      cartTotal.textContent = fmt(total);
    }

    function updateCartUI() { saveCart(); renderCart(); }

    // Cart Ops
    productGrid.addEventListener("click", e => {
      if (e.target.tagName === "BUTTON") {
        const id = e.target.dataset.id;
        const product = productById.get(id);
        const item = cartItems.find(i => i.id === id);
        if (item) item.quantity++; else cartItems.push({ ...product, quantity: 1 });
        updateCartUI();
      }
    });

    cartItemsList.addEventListener("click", e => {
      const id = e.target.dataset.id;
      if (!id) return;
      const item = cartItems.find(i => i.id === id);
      if (e.target.dataset.action === "inc") item.quantity++;
      if (e.target.dataset.action === "dec") item.quantity--;
      if (e.target.dataset.action === "remove" || item.quantity <= 0)
        cartItems = cartItems.filter(i => i.id !== id);
      updateCartUI();
    });

    // Cart open/close
    cartBtn.addEventListener("click", () => cartEl.classList.remove("translate-x-full"));
    closeCartBtn.addEventListener("click", () => cartEl.classList.add("translate-x-full"));

    // ‚úÖ Search logic
    searchInput.addEventListener("input", () => {
      const keyword = searchInput.value.toLowerCase().trim();
      const filtered = products.filter(p => p.name.toLowerCase().includes(keyword));
      renderProducts(filtered);

      if (filtered.length === 1 && keyword.length > 0) {
        quickOrder = filtered[0];
        searchProduct.textContent = `${quickOrder.name} - ‚Ç¶${fmt(quickOrder.price)}`;
        searchResult.classList.remove("hidden");
      } else {
        quickOrder = null;
        searchResult.classList.add("hidden");
      }
    });

    // Quick order via WhatsApp
    orderNowBtn.addEventListener("click", () => {
      if (!quickOrder) return;
      const qty = Math.max(1, parseInt(quickQty.value) || 1);
      const total = quickOrder.price * qty;
      const msg = `Hello, I would like to order:%0A- ${quickOrder.name} x${qty} = ‚Ç¶${fmt(total)}`;
      window.open(`https://wa.me/${WHATSAPP_PHONE}?text=${msg}`, "_blank");
    });

    // Request product
    requestProductBtn.addEventListener("click", () => {
      requestForm.classList.toggle("hidden");
      if (!requestForm.classList.contains("hidden")) requestInput.focus();
    });
    sendRequestBtn.addEventListener("click", () => {
      const text = requestInput.value.trim();
      if (!text) return alert("Please enter a product name.");
      const msg = encodeURIComponent(`Hello, I am looking for: ${text}`);
      window.open(`https://wa.me/${WHATSAPP_PHONE}?text=${msg}`, "_blank");
    });

    renderProducts(); renderCart();

    // Checkout via WhatsApp
  document.getElementById("checkout").addEventListener("click", function () {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    if (cart.length === 0) {
      alert("Your cart is empty!");
      return;
    }

    // Format cart items
    let message = "üõí Pic_Cleaning Order:\n\n";
    let total = 0;

    cart.forEach(item => {
      message += `‚Ä¢ ${item.name} (x${item.quantity}) - ‚Ç¶${item.price * item.quantity}\n`;
      total += item.price * item.quantity;
    });

    message += `\nTotal: ‚Ç¶${total}\n\nPlease confirm my order.`;

    // Encode for WhatsApp
    let whatsappNumber = "2348163645085"; // Your business WhatsApp number
    let whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;

    // Redirect to WhatsApp
    window.open(whatsappURL, "_blank");
  });
</script>

</body>
</html>

